!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=58)}({135:function(e,t){},58:function(e,t,o){o(59),e.exports=o(135)},59:function(e,t){ArchiveListUtils={openListYear:function(e){console.log("openListYear");let t=$("#BlogArchive1_ArchiveList > ul.hierarchy > li.archivedate:not(.expanded)"),o=$("#BlogArchive1_ArchiveList > ul.hierarchy > li.archivedate:not(.expanded) > a.toggle > .zippy:not(.toggle-open)");t.addClass("expanded").removeClass("collapsed"),o.addClass("toggle-open").text("â–¼ "),"function"==typeof e&&e()},openListMonth:function(e){this.openListYear(()=>{let t=document.querySelectorAll("#BlogArchive1_ArchiveList > ul > li > ul > li.archivedate.collapsed > a.toggle"),o=i=>{i<t.length?(t[i].click(),$(()=>{setTimeout(()=>{o(++i)},500)})):"function"==typeof e&&e()};o(0)})},displayConfiguration:function(){console.log("displayConfiguration");this.openListYear(()=>{let e=function(){if("year"===$(this).attr("data-folder-type")){$(this).parent().find("ul > li > .download-checkbox").prop("checked",this.checked)}else{let e=$(this).parent().parent().parent(),t=e.children(".download-checkbox"),o=!0;e.find("ul.hierarchy > li > .download-checkbox").each((e,t)=>{!1===t.checked&&(o=!1)}),t.prop("checked",o)}let e={};$("#BlogArchive1_ArchiveList input.download-checkbox").each((t,o)=>{e[o.id]=o.checked}),lscache.set("archivesCheckboxStatus",e)};$("#BlogArchive1_ArchiveList a.toggle").each((t,o)=>{let i,n="month";if("BlogArchive1_ArchiveList"===$(o).parent().parent().parent().attr("id")&&(n="year"),"year"===n)i="d_"+$(o).parent().children("a.post-count-link").text().trim();else{let e=$(o).parent().children("a.post-count-link").attr("href").split("/");i="d_"+e[e.length-3]+"_"+e[e.length-2]}let l=$('<input type="checkbox" checked="checked" class="download-checkbox" />').attr("id",i).attr("data-folder-type",n).change(e);$(o).before(l).parent().addClass("init-download-checkbox")});let t=lscache.get("archivesCheckboxStatus");if(t)for(let e in t)$("#"+e).prop("checked",t[e])})},loopOpenItem:function(e,t){let o=i=>{if(i<e.length){let t=3,n=()=>{let l=window.open(e[i]),c=300,r=()=>{if(!1===l.closed&&c>0)setTimeout(()=>{c--,r()},1e3);else{if(0===c){if(l.close(),--t>0)return void n();console.log(["DOWNLOAD ERROR",e[i]])}setTimeout(()=>{o(++i)},3e3)}};r()};n()}else"function"==typeof t&&t()};o(0)},startDownload:function(e){let t=$('#BlogArchive1_ArchiveList input.download-checkbox[data-folder-type="month"]:checked'),o=i=>{if(i<t.length){let e=t.eq(i).parent();if(e.hasClass("collapsed"))e.children("a.toggle")[0].click(),setTimeout(()=>{o(i)},1e3);else{let n=[];e.find("ul.posts > li > a").each((e,t)=>{n.push(t.href+"?downloadArticle=true")}),this.loopOpenItem(n,()=>{t.eq(i).prop("checked",!1).change(),o(++i)})}}else"function"==typeof e&&e()};o(0)}},$(()=>{let e=$("#ArchiveList > .page-tool");e.find(".open-list.year").click(()=>{ArchiveListUtils.openListYear()}),e.find(".open-list.month").click(()=>{ArchiveListUtils.openListMonth()}),e.find(".setup-checkbox").click(()=>{ArchiveListUtils.displayConfiguration()}).click(),e.find(".start-download").click(()=>{ArchiveListUtils.startDownload()})})}});
//# sourceMappingURL=page.js.map